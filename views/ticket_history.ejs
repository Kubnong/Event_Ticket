<!DOCTYPE html>
<html lang="th">
  <%- include('partials/head') %>
  <body class="min-h-screen flex flex-col bg-gradient-to-b from-black via-neutral-900 to-zinc-950 text-white font-[Prompt]">
    <%- include('partials/navbar') %>

    <main class="flex-1 mx-auto max-w-5xl px-4 py-14">
      <h1 class="font-bangers text-5xl text-red-500 drop-shadow-[0_0_12px_rgba(229,9,20,0.8)] mb-8">ประวัติบัตรของฉัน</h1>

      <% if (tickets && tickets.length) { %>
        <div class="grid gap-6">
          <% tickets.forEach(t => { %>
            <div class="bg-neutral-900/80 border border-red-600/40 rounded-2xl p-6 shadow-[0_0_15px_rgba(229,9,20,0.3)]">
              <h3 class="text-2xl text-white font-semibold"><%= t.event_id?.title %></h3>
              <p class="text-gray-400 mt-1"><%= t.event_id?.location %></p>
              <div class="mt-2 text-sm text-gray-400">
                <p><i class="fa-solid fa-calendar-days text-red-500 mr-1"></i> วันที่ซื้อ: <%= new Date(t.createdAt).toLocaleDateString('th-TH') %></p>
                <p><i class="fa-solid fa-ticket text-red-500 mr-1"></i> โค้ดตั๋ว: <%= t.ticket_code %></p>
                <p><i class="fa-solid fa-coins text-red-500 mr-1"></i> จำนวน: <%= t.quantity %> ใบ</p>
              </div>
            </div>
          <% }) %>
        </div>
      <% } else { %>
        <p class="text-center text-gray-400 mt-10">ยังไม่มีประวัติการซื้อตั๋ว</p>
      <% } %>
    </main>

    <%- include('partials/footer') %>
  </body>
</html>